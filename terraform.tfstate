{"version":4,"terraform_version":"1.10.1","serial":37,"lineage":"068e41f1-1747-3def-b6f1-e5de0c9f3ac4","outputs":{},"resources":[{"mode":"managed","type":"aws_iam_role","name":"lambda_s3_role","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::000000000000:role/lambda_role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-06-27T02:58:36Z","description":"","force_detach_policies":false,"id":"lambda_role","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonS3FullAccess"],"max_session_duration":3600,"name":"lambda_role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROAQAAAAAAAHDBJAVPKJ"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role_policy_attachment","name":"s3_attachment","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"lambda_role-20250627025836303600000001","policy_arn":"arn:aws:iam::aws:policy/AmazonS3FullAccess","role":"lambda_role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.lambda_s3_role"]}]},{"mode":"managed","type":"aws_lambda_function","name":"lambda_funcs","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:000000000000:function:stat","code_sha256":"woZb21bt0Ea807zDvEwyiLNOlCA8QQP9p8ijUqtOdhw=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"stat","handler":"handler.lambda_handler","id":"stat","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:000000000000:function:stat/invocations","kms_key_arn":"","last_modified":"2025-06-27T03:30:07.741492+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/stat","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":true,"qualified_arn":"arn:aws:lambda:us-east-1:000000000000:function:stat:1","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:000000000000:function:stat:1/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::000000000000:role/lambda_role","runtime":"python3.12","s3_bucket":"lambda","s3_key":"stat/lambda_function.zip","s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"woZb21bt0Ea807zDvEwyiLNOlCA8QQP9p8ijUqtOdhw=","source_code_size":37595368,"tags":{},"tags_all":{},"timeout":60,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"1","vpc_config":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19","dependencies":["aws_iam_role.lambda_s3_role","aws_s3_bucket.lambda_storage"]},{"index_key":1,"schema_version":0,"attributes":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:000000000000:function:corr","code_sha256":"BrDNlDpLYYt8WFdVP9kMvTScDtuolUMnpKnW2lq0qDg=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"corr","handler":"handler.lambda_handler","id":"corr","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:000000000000:function:corr/invocations","kms_key_arn":"","last_modified":"2025-06-27T03:30:09.661267+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/corr","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":true,"qualified_arn":"arn:aws:lambda:us-east-1:000000000000:function:corr:1","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:000000000000:function:corr:1/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::000000000000:role/lambda_role","runtime":"python3.12","s3_bucket":"lambda","s3_key":"corr/lambda_function.zip","s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"BrDNlDpLYYt8WFdVP9kMvTScDtuolUMnpKnW2lq0qDg=","source_code_size":58103762,"tags":{},"tags_all":{},"timeout":60,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"1","vpc_config":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19","dependencies":["aws_iam_role.lambda_s3_role","aws_s3_bucket.lambda_storage"]},{"index_key":2,"schema_version":0,"attributes":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:000000000000:function:report","code_sha256":"jQ5F5y+3QGmMMtBU6G5a1O+m+DELS77Mww5K+1Yp+SM=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"report","handler":"handler.lambda_handler","id":"report","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:000000000000:function:report/invocations","kms_key_arn":"","last_modified":"2025-06-27T03:30:27.676740+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/report","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":true,"qualified_arn":"arn:aws:lambda:us-east-1:000000000000:function:report:1","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:000000000000:function:report:1/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::000000000000:role/lambda_role","runtime":"python3.12","s3_bucket":"lambda","s3_key":"report/lambda_function.zip","s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"jQ5F5y+3QGmMMtBU6G5a1O+m+DELS77Mww5K+1Yp+SM=","source_code_size":72129022,"tags":{},"tags_all":{},"timeout":60,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"1","vpc_config":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19","dependencies":["aws_iam_role.lambda_s3_role","aws_s3_bucket.lambda_storage"]}]},{"mode":"managed","type":"aws_s3_bucket","name":"input_storage","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::input","bucket":"input","bucket_domain_name":"input.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"input.s3.us-east-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"input","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{},"tags_all":{},"timeouts":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"aws_s3_bucket","name":"lambda_storage","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::lambda","bucket":"lambda","bucket_domain_name":"lambda.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"lambda.s3.us-east-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"lambda","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{},"tags_all":{},"timeouts":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"aws_s3_bucket","name":"output_storage","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::output","bucket":"output","bucket_domain_name":"output.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"output.s3.us-east-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"75aa57f09aa0c8caeab4f8c24e99d10f8e7faeebf76c078efc7c6caea54ba06a","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"output","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{},"tags_all":{},"timeouts":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"aws_s3_object","name":"input_data","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"acl":null,"arn":"arn:aws:s3:::input/data.pq","bucket":"input","bucket_key_enabled":false,"cache_control":"","checksum_algorithm":null,"checksum_crc32":"","checksum_crc32c":"","checksum_crc64nvme":"","checksum_sha1":"","checksum_sha256":"","content":null,"content_base64":null,"content_disposition":"","content_encoding":"","content_language":"","content_type":"binary/octet-stream","etag":"e5a455458d317788d7a5e2ff46477e24-2","force_destroy":false,"id":"data.pq","key":"data.pq","kms_key_id":null,"metadata":{},"object_lock_legal_hold_status":"","object_lock_mode":"","object_lock_retain_until_date":"","override_provider":[],"server_side_encryption":"AES256","source":"data.pq","source_hash":null,"storage_class":"STANDARD","tags":{},"tags_all":{},"version_id":"","website_redirect":""},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_s3_bucket.input_storage"]}]},{"mode":"managed","type":"aws_s3_object","name":"lambda_zip","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"acl":null,"arn":"arn:aws:s3:::lambda/stat/lambda_function.zip","bucket":"lambda","bucket_key_enabled":false,"cache_control":"","checksum_algorithm":null,"checksum_crc32":"","checksum_crc32c":"","checksum_crc64nvme":"","checksum_sha1":"","checksum_sha256":"","content":null,"content_base64":null,"content_disposition":"","content_encoding":"","content_language":"","content_type":"binary/octet-stream","etag":"4a11f245090e310c93d6fd24f073031a-8","force_destroy":false,"id":"stat/lambda_function.zip","key":"stat/lambda_function.zip","kms_key_id":null,"metadata":{},"object_lock_legal_hold_status":"","object_lock_mode":"","object_lock_retain_until_date":"","override_provider":[],"server_side_encryption":"AES256","source":"lambda/stat/pkg.zip","source_hash":null,"storage_class":"STANDARD","tags":{},"tags_all":{},"version_id":"","website_redirect":""},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_s3_bucket.lambda_storage"]},{"index_key":1,"schema_version":0,"attributes":{"acl":null,"arn":"arn:aws:s3:::lambda/corr/lambda_function.zip","bucket":"lambda","bucket_key_enabled":false,"cache_control":"","checksum_algorithm":null,"checksum_crc32":"","checksum_crc32c":"","checksum_crc64nvme":"","checksum_sha1":"","checksum_sha256":"","content":null,"content_base64":null,"content_disposition":"","content_encoding":"","content_language":"","content_type":"binary/octet-stream","etag":"f741021f5ffb6fc1fc0e65bd693b3115-12","force_destroy":false,"id":"corr/lambda_function.zip","key":"corr/lambda_function.zip","kms_key_id":null,"metadata":{},"object_lock_legal_hold_status":"","object_lock_mode":"","object_lock_retain_until_date":"","override_provider":[],"server_side_encryption":"AES256","source":"lambda/corr/pkg.zip","source_hash":null,"storage_class":"STANDARD","tags":{},"tags_all":{},"version_id":"","website_redirect":""},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_s3_bucket.lambda_storage"]},{"index_key":2,"schema_version":0,"attributes":{"acl":null,"arn":"arn:aws:s3:::lambda/report/lambda_function.zip","bucket":"lambda","bucket_key_enabled":false,"cache_control":"","checksum_algorithm":null,"checksum_crc32":"","checksum_crc32c":"","checksum_crc64nvme":"","checksum_sha1":"","checksum_sha256":"","content":null,"content_base64":null,"content_disposition":"","content_encoding":"","content_language":"","content_type":"binary/octet-stream","etag":"96f8a2359e010d8495f445d49384681c-14","force_destroy":false,"id":"report/lambda_function.zip","key":"report/lambda_function.zip","kms_key_id":null,"metadata":{},"object_lock_legal_hold_status":"","object_lock_mode":"","object_lock_retain_until_date":"","override_provider":[],"server_side_encryption":"AES256","source":"lambda/report/pkg.zip","source_hash":null,"storage_class":"STANDARD","tags":{},"tags_all":{},"version_id":"","website_redirect":""},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_s3_bucket.lambda_storage"]}]},{"mode":"managed","type":"aws_sfn_state_machine","name":"sfn_state_machine","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:states:us-east-1:000000000000:stateMachine:report_machine","creation_date":"2025-06-27T03:42:14Z","definition":"{\n    \"Comment\": \"Parallel Demo\",\n    \"StartAt\": \"Parallel State\",\n    \"States\": \n    {\n      \"Parallel State\": {\n        \"Type\": \"Parallel\",\n        \"Next\": \"report\",\n        \"Branches\": [\n          {\n            \"StartAt\": \"corr\",\n            \"States\": {\n              \"corr\": {\n                \"Type\": \"Task\",\n                \"Resource\": \"arn:aws:states:::lambda:invoke\",\n                \"Parameters\": {\n                  \"FunctionName\": \"arn:aws:lambda:us-east-1:000000000000:function:corr\",\n                  \"Payload\": {\"input.$\": \"$\"}},\n                \"OutputPath\": \"$\",\n                \"End\": true}}\n          },\n          {\n            \"StartAt\": \"stat\",\n            \"States\": {\n              \"stat\": {\n                \"Type\": \"Task\",\n                \"Resource\": \"arn:aws:states:::lambda:invoke\",\n                \"Parameters\": {\n                  \"FunctionName\": \"arn:aws:lambda:us-east-1:000000000000:function:stat\",\n                  \"Payload\": {\"input.$\": \"$\"}},\n                \"OutputPath\": \"$\",\n                \"End\": true\n              }\n            }\n          }\n        ]\n      },\n      \"report\": {\n        \"Type\": \"Task\",\n        \"Resource\": \"arn:aws:states:::lambda:invoke\",\n        \"Parameters\": {\n          \"FunctionName\": \"arn:aws:lambda:us-east-1:000000000000:function:report\",\n          \"Payload\": {\"input.$\": \"$\"}},\n        \"End\": true}\n    }\n  }\n  ","description":"","encryption_configuration":[],"id":"arn:aws:states:us-east-1:000000000000:stateMachine:report_machine","logging_configuration":[{"include_execution_data":false,"level":"OFF","log_destination":""}],"name":"report_machine","name_prefix":"","publish":false,"revision_id":"","role_arn":"arn:aws:iam::000000000000:role/lambda_role","state_machine_version_arn":"","status":"ACTIVE","tags":null,"tags_all":{},"timeouts":null,"tracing_configuration":[],"type":"STANDARD","version_description":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwfX0=","dependencies":["aws_iam_role.lambda_s3_role"]}]}],"check_results":null}
